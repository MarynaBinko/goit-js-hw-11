{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst gallery = new SimpleLightbox('.gallery a',{\n    overlayOpacity: 8,\n    captionData: \"href\",\n    captionDelay: 250,\n    captionClass: \"text-center\"\n  });\n\n\n\nconst container = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".form\");\nform.addEventListener(\"submit\", handleSubmit);\n \n\n\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const input = form.querySelector(\"input[type='text']\");\n    const searchQuery = input.value;\n    console.log(searchQuery);  \n    searchPictures(searchQuery)\n    .then(data => {\n        container.innerHTML = createMarkup(data);\n        gallery.refresh();\n    })\n    .catch(errorMsg => showToast(errorMsg))\n    .finally(()=> form.reset())\n}\n\nconst  API_KEY = \"43197174-dcc5f5044572d8f441379a766\";\n\nfunction searchPictures(searchQuery){\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: \"searchQuery\",\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    \n    return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(showToast(errorMsg));\n        }\n        return response.json()\n    })\n \n}\n\n\nfunction createMarkup(arr) {\n    return arr \n    .map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>{`\n    <ul class=\"list\">\n        <li class=\"list-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\">\n            <div class=\"image-details\">          \n                <h2 class=\"likes\">Likes: ${likes} </h2>\n                <h2 class=\"views\">Views: ${views}  </h2>                                \n                <h2 class=\"comments\">Comments: ${comments}</h2>               \n                <h2 class=\"downloads\">Downloads: ${downloads}</h2>                           \n            </div>\n        </li>\n    </ul>  `})\n    .join(\"\")\n}\n\n\n\n\n\n\nlet toastBox = document.getElementById(`toastBox`);\nconst errorMsg = `<i class=\"fa-solid fa-xmark\"></i>Sorry, there are no images matching your search query. Please try again!`;\nfunction showToast(message, className) {\n    let toast = document.createElement(`div`);\n    toast.classList.add(`toast`);\n    toast.classList.add(className);\n    toast.innerHTML = message;\n\n    toastBox.appendChild(toast);\n\n    \n    setTimeout(() => {\n        toast.remove();\n    }, 6000);\n    \n};\n\n// Css loader---------------------------------------------------------------\n// const path = require('path');\n\n// module.exports = {\n//     entry: './src/index.js',\n//     output: {\n//         filename: 'bundle.js',\n//         path: path.resolve(__dirname, 'dist'),\n//     },\n//     module: {\n//         rules: [\n//             {\n//                 test: /\\.css$/,\n//                 use: ['style-loader', 'css-loader'],\n//             },\n//         ],\n//     },\n// };"],"names":["gallery","SimpleLightbox","container","form","handleSubmit","event","searchQuery","searchPictures","data","createMarkup","errorMsg","showToast","API_KEY","params","response","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","toastBox","message","className","toast"],"mappings":"svBAUA,MAAMA,EAAU,IAAIC,EAAe,aAAa,CAC5C,eAAgB,EAChB,YAAa,OACb,aAAc,IACd,aAAc,aAClB,CAAG,EAIGC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAK5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EADQH,EAAK,cAAc,oBAAoB,EAC3B,MAC1B,QAAQ,IAAIG,CAAW,EACvBC,EAA0B,EACzB,KAAKC,GAAQ,CACVN,EAAU,UAAYO,EAAaD,CAAI,EACvCR,EAAQ,QAAO,CACvB,CAAK,EACA,MAAMU,GAAYC,EAAUD,CAAQ,CAAC,EACrC,QAAQ,IAAKP,EAAK,OAAO,CAC9B,CAEA,MAAOS,EAAU,qCAEjB,SAASL,EAAeD,EAAY,CAChC,MAAMO,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAG,cACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAChD,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMH,EAAUD,CAAQ,CAAC,EAEvC,OAAOI,EAAS,KAAM,CAC9B,CAAK,CAEL,CAGA,SAASL,EAAaM,EAAK,CACvB,OAAOA,EACN,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAK,CAYxE,CAAC,EACR,KAAK,EAAE,CACZ,CAOA,IAAIC,EAAW,SAAS,eAAe,UAAU,EACjD,MAAMb,EAAW,4GACjB,SAASC,EAAUa,EAASC,EAAW,CACnC,IAAIC,EAAQ,SAAS,cAAc,KAAK,EACxCA,EAAM,UAAU,IAAI,OAAO,EAC3BA,EAAM,UAAU,IAAID,CAAS,EAC7BC,EAAM,UAAYF,EAElBD,EAAS,YAAYG,CAAK,EAG1B,WAAW,IAAM,CACbA,EAAM,OAAM,CACf,EAAE,GAAI,CAEX"}