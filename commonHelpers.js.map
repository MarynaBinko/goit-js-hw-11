{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst gallery = new SimpleLightbox('.gallery a',{\n    overlayOpacity: 8,\n    captionData: \"href\",\n    captionDelay: 250,\n    captionClass: \"text-center\"\n  });\n\n\n\nconst container = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".form\");\nform.addEventListener(\"submit\", handleSubmit);\n \n\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const input = form.querySelector(\"input[type='text']\");\n    const searchQuery = input.value;\n\n    loader.style.display = 'flex';\n   \n    searchPictures(searchQuery)       \n    .then(data => {\n        const hits = data.hits;\nif (hits.length === 0) {\n    const errorMsg = `<i class=\"fa-solid fa-xmark\"></i>Sorry, there are no images matching your search query. Please try again!`;\n    showToast(errorMsg);\n}else{ \n    container.innerHTML = createMarkup(hits);\n    gallery.refresh();}\n       \n    })\n    .catch(error => {\n            const errorMsg = `<i class=\"fa-solid fa-xmark\"></i>Sorry, there are no images matching your search query. Please try again!`;\n            showToast(errorMsg)\n        })\n    \n    .finally(()=> { loader.style.display = 'none';\n    form.reset()})\n    }\n\nconst  API_KEY = \"43197174-dcc5f5044572d8f441379a766\";\n\nfunction searchPictures(searchQuery){\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n \n    return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(showToast(errorMsg));\n        }\n        return response.json()\n    })\n \n}\n\n\nfunction createMarkup(arr) {\n    return arr \n    .map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>{\n        return `\n    <ul class=\"list\">\n        <li class=\"list-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img  class=\"list-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <div class=\"image-details\">          \n                <p class=\"likes\"><span class=\"span\">Likes:</span><br> <span class=\"span-link\">${likes}</span> </p>\n                <p class=\"views\"><span class=\"span\">Views:</span><br> <span class=\"span-link\">${views}</span>  </p>                                \n                <p class=\"comments\"><span class=\"span\">Comments:</span><br> <span class=\"span-link\">${comments}</span></p>               \n                <p class=\"downloads\"><span class=\"span\">Downloads:</span><br> <span class=\"span-link\">${downloads}</span></p>                           \n            </div>\n        </li>\n    </ul>`; })\n    .join(\"\")\n}\n\n\n\n\nlet toastBox = document.getElementById(`toastBox`);\nfunction showToast(message) {\n    let toast = document.createElement(`div`);\n    toast.classList.add(`toast`);   \n    toast.innerHTML = message;\n\n    toastBox.appendChild(toast);\n\n    \n    setTimeout(() => {\n        toast.remove();\n    }, 3000);\n    \n};\n\n\nconst loader = document.getElementById('loader');\n\n\n\n"],"names":["gallery","SimpleLightbox","container","form","handleSubmit","event","searchQuery","loader","searchPictures","data","hits","showToast","createMarkup","error","API_KEY","params","response","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","toastBox","message","toast"],"mappings":"svBAYA,MAAMA,EAAU,IAAIC,EAAe,aAAa,CAC5C,eAAgB,EAChB,YAAa,OACb,aAAc,IACd,aAAc,aAClB,CAAG,EAIGC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAI5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EADQH,EAAK,cAAc,oBAAoB,EAC3B,MAE1BI,EAAO,MAAM,QAAU,OAEvBC,EAAeF,CAAW,EACzB,KAAKG,GAAQ,CACV,MAAMC,EAAOD,EAAK,KACtBC,EAAK,SAAW,EAEhBC,EADiB,2GACC,GAElBT,EAAU,UAAYU,EAAaF,CAAI,EACvCV,EAAQ,QAAO,EAEnB,CAAK,EACA,MAAMa,GAAS,CAERF,EADiB,2GACC,CAC9B,CAAS,EAEJ,QAAQ,IAAK,CAAEJ,EAAO,MAAM,QAAU,OACvCJ,EAAK,MAAK,CAAE,CAAC,CACZ,CAEL,MAAOW,EAAU,qCAEjB,SAASN,EAAeF,EAAY,CAChC,MAAMS,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGR,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BS,CAAM,EAAE,EAChD,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAML,EAAU,QAAQ,CAAC,EAEvC,OAAOK,EAAS,KAAM,CAC9B,CAAK,CAEL,CAGA,SAASJ,EAAaK,EAAK,CACvB,OAAOA,EACN,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChE;AAAA;AAAA;AAAA,wCAGyBL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,gGAE0BC,CAAK;AAAA,gGACLC,CAAK;AAAA,sGACCC,CAAQ;AAAA,wGACNC,CAAS;AAAA;AAAA;AAAA,UAGpG,EACR,KAAK,EAAE,CACZ,CAKA,IAAIC,EAAW,SAAS,eAAe,UAAU,EACjD,SAASd,EAAUe,EAAS,CACxB,IAAIC,EAAQ,SAAS,cAAc,KAAK,EACxCA,EAAM,UAAU,IAAI,OAAO,EAC3BA,EAAM,UAAYD,EAElBD,EAAS,YAAYE,CAAK,EAG1B,WAAW,IAAM,CACbA,EAAM,OAAM,CACf,EAAE,GAAI,CAEX,CAGA,MAAMpB,EAAS,SAAS,eAAe,QAAQ"}